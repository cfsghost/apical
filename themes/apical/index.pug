extends layout
include apiInfo

mixin listAPIsForMenu(group)
	- for (var index in definitions)
		- var api = definitions[index];
		- var id = (api.api + api.method).replace(/\//g, '').replace(/:/g, '-');
		- if (api.group == group)
			a.mainmenu.blue.item(href='#' + id, data-tab='group-' + group) #{api.name}

mixin listAPIs(group)

	- for (var index in definitions)
		- var api = definitions[index];
		- if (api.group == group)

			div.ui.section.divider

			- var id = (api.api + api.method).replace(/\//g, '').replace(/:/g, '-');
			+apiInfo(id, api)

mixin listGroups
	- for (var index in groups)
		- var group = groups[index];
		div.ui.basic.tab.segment(data-tab='group-' + group.name)
			h1.ui.header #{group.name}
			div.article-content !{group.desc}
			+listAPIs(group.name)

mixin menu
	div.ui.inverted.left.fixed.vertical.accordion.menu.mainmenu
		div.item
			h3.ui.blue.inverted.center.aligned.icon.header
				i.circular.high.battery.icon
				| #{name}
				div.sub.header API Documentation

		a.item.blue.mainmenu.active(href='#introduction', data-tab='introduction') Introduction

		- for (var index in groups)
			- var group = groups[index];

			div.item
				div.title
					i.dropdown.icon
					| #{group.name}
				div.content.menu
					+listAPIsForMenu(group.name)

block body

	+menu

	div.ui.stackable.container.grid
		div.three.wide.column
		div.thirteen.wide.column

			div.ui.basic.tab.segment.active(data-tab='introduction')

				a(name='introduction')
					h1.ui.header #{name}

				div.article-content !{desc}

			+listGroups()
